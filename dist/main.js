!function(n){var e={};function t(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return n[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)t.d(r,a,function(e){return n[e]}.bind(null,a));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";function r(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}t.r(e);var a=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var e,t,a;return e=n,a=[{key:"read",value:function(n){var e=window.mdoc.settings.startMdFile;if(!n||-1===n.indexOf("#"))return{mdPath:e,page:"#!"};if("#!"===(n=n.substring(n.indexOf("#"))))return{mdPath:e,page:"#!"};var t=n.lastIndexOf("#");return 0===t?{mdPath:n.substring(2),page:"#!".concat(n.substring(2))}:2===t?{mdPath:sstartMdFile,page:"#!".concat(n.substring(2,t)),scrollTo:n.substring(t+1)}:{mdPath:n.substring(2,t),page:"#!".concat(n.substring(2,t)),scrollTo:n.substring(t+1)}}}],(t=null)&&r(e.prototype,t),a&&r(e,a),n}();function o(){var n=new marked.Renderer;n.link=function(n,e,t){return/(\.md$)|(\.md#)/.test(n)&&(n="#!"+i(n)),marked.Renderer.prototype.link.call(this,n,e,t)},n.image=function(n,e,t){return marked.Renderer.prototype.image.call(this,i(n),e,t)},n.paragraph=function(n){var e=function(n){for(var e=[{trigger:"hint",className:"alert-success"},{trigger:"tip",className:"alert-success"},{trigger:"attention",className:"alert-warning"},{trigger:"warning",className:"alert-warning"},{trigger:"note",className:"alert-info"},{trigger:"danger",className:"alert-danger"}],t=0,r=e.length;t<r;t++){var a=new RegExp("^".concat(e[t].trigger,"(:|!)+.*"),"i");if(n.match(a))return e[t]}return null}(n);return e?'<p class="alert '.concat(e.className,'">').concat(n,"</p>\n"):marked.Renderer.prototype.paragraph.call(this,n)},n.table=function(n,e){return e&&(e="<tbody>".concat(e,"</tbody>")),'<div class="table-responsive">\n                    <table class="table table-striped table-hover">\n                        <thead>'.concat(n,"</thead>\n                        ").concat(e,"\n                    </table>\n                </div>")},n.code=function(n,e,t){return"mermaid"===e?window.MSInputMethodContext&&document.documentMode?'<div class="alert alert-danger" role="alert">Mermaid is not supported when using Internet Explorer!</div><pre class="language-mermaid"><code>'.concat(n,"</code></pre>"):'<div class="mermaid">'.concat(n,"</div>"):"plantuml"===e?'<img src="'.concat(function(n){function e(n,e,r){var a=n>>2,o=(3&n)<<4|e>>4,i=(15&e)<<2|r>>6,c=63&r,s="";return s+=t(63&a),s+=t(63&o),s+=t(63&i),s+=t(63&c)}function t(n){return n<10?String.fromCharCode(48+n):(n-=10)<26?String.fromCharCode(65+n):(n-=26)<26?String.fromCharCode(97+n):0==(n-=26)?"-":1==n?"_":"?"}return"http://www.plantuml.com/plantuml/img/"+(r=n,r=unescape(encodeURIComponent(r)),function(n){for(var t="",r=0;r<n.length;r+=3)r+2==n.length?t+=e(n.charCodeAt(r),n.charCodeAt(r+1),0):r+1==n.length?t+=e(n.charCodeAt(r),0,0):t+=e(n.charCodeAt(r),n.charCodeAt(r+1),n.charCodeAt(r+2));return t}(RawDeflate.deflate(r,9)));var r}(n),'" />'):marked.Renderer.prototype.code.call(this,n,e,t)},marked.setOptions({renderer:n})}function i(n){var e,t,r=n&&-1!==n.indexOf("://"),o=!r&&0===n.indexOf("/"),i=(e=a.read(location.hash).mdPath,-1===(t=e.lastIndexOf("/"))?null:e.substring(0,t));return r||o||!i?n:i+"/"+n}function c(n){if(n.status>=200&&n.status<300)return n;var e=new Error(n.statusText||n.status);throw e.response=n,e}function s(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var l=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var e,t,r;return e=n,r=[{key:"renderApp",value:function(n,e,t){return"".concat(this.renderNav(n,e,t),'\n            <div class="container-fluid">\n                <div class="row flex-xl-nowrap">\n                    <div class="col-12 col-md-3 col-xl-2 bd-sidebar" id="sidebar">                    \n                    </div>\n                    <div class="d-none d-xl-block col-xl-2 bd-toc" id="toc">\n                    </div>                \n                    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main" id="main">\n                    </main>\n                </div>\n            </div>')}},{key:"renderNav",value:function(n,e,t){return'\n            <header class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar bg-primary">\n                <a class="navbar-brand mr-0 mr-md-2" href="#!" aria-label="MDoc">'.concat(n||document.title,'</a>\n                <div class="navbar-nav-scroll mr-auto">\n                    <ul class="navbar-nav flex-row">\n                        ').concat(this.renderMenu(e),'\n                    </ul>\n                </div>\n                <span class="navbar-text">\n                    MDoc v').concat(t,'&nbsp;&nbsp;<a href="https://github.com/ThumNet/MDoc/"><svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg" viewBox="0 0 512 499.36" role="img" focusable="false"><title>GitHub</title><path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"></path></svg></a>\n                </span>\n            </header>')}},{key:"renderMenu",value:function(n){var e=n||[];if(0===e.length)return"";var t="";return e.forEach(function(n){var e="#!"+n.href,r=location.hash===e?"active":"";t+='<li class="nav-item '.concat(r,'">\n                        <a class="nav-link" href="').concat(e,'">').concat(n.title,"</a>\n                    </li>")}),t}},{key:"renderPrint",value:function(n){return'<div class="d-none d-print-block pb-3 text-muted">mDoc v'.concat(n,' - Printed from <a href="').concat(location.href,'">').concat(location.href,"</a> on ").concat((new Date).toLocaleString(),"</div>")}},{key:"renderGitLinks",value:function(n){if(!n)return"";var e,t,r=n,o=a.read(location.hash).mdPath;return 0===r.indexOf("https://github.com/")?(e="".concat(r,"/blob/master/").concat(o),t="".concat(r,"/commits/master/").concat(o)):(e="".concat(r,"?path=%2F").concat(encodeURIComponent(o),"&_a=contents"),t="".concat(r,"?path=%2F").concat(encodeURIComponent(o),"&_a=history")),'<div class="gitlinks float-right">\n            <a href="'.concat(e,'">Edit</a> | <a href="').concat(t,'">History</a>\n        </div>')}},{key:"renderToc",value:function(n){if(!n.length)return"";for(var e=a.read(location.hash).page,t=2,r='<ul class="section-nav">',o=0,i=n.length;o<i;o++){var c=parseInt(n[o].tagName.substring(1)),s=o<i-1?parseInt(n[o+1].tagName.substring(1)):c;r+='<li class="toc-entry toc-h'.concat(c,'">\n                        <a href="').concat(e,"#").concat(n[o].id,'" tabindex="-1">').concat(n[o].textContent,"</a>"),r+=c===s?"</li>":s>c?"<ul>":"</li></ul>",t=c}return t>2&&(r+="</ul>".repeat(t-2)),r+="</ul>"}},{key:"renderSidebar",value:function(n){if(!n)return"";var e=a.read(location.hash).mdPath;return'<form class="bd-search d-flex align-items-center" onsubmit="mdoc.performSearch(); return false;">\n                        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">\n                    </form>\n                    <nav class="collapse bd-links">\n                        '.concat(function n(t,r){var a=""===t?"<ul>":0===e.indexOf(t)?'<ul class="nested active">':'<ul class="nested">';return Object.keys(r).forEach(function(o){if("file"===r[o]){var i=e===t+o?"current":"";a+='<li><a href="#!'.concat(t).concat(o,'" class="').concat(i,'" tabindex="-1">').concat(u(o),"</a></li>")}else{var c=0===e.indexOf(t+o+"/");a+='<li>\n                        <span class="'.concat(c?"caret caret-down":"caret",'">').concat(u(o),'</span>\n                        <button class="admin-only" onclick="mdoc.displayUnderPath(\'').concat(t+o+"/","'); return false;\">view all</button>\n                        ").concat(n("".concat(t).concat(o,"/"),r[o]),"\n                    </li>")}}),a+="</ul>"}("",n),"\n                    </nav>")}},{key:"renderSearch",value:function(n,e){var t="<h1>Search results</h1>\n            <p><strong>".concat(e.length,"</strong> results where found for the search for <strong>").concat(n,"</strong><p>");return e.forEach(function(e){t+='<div>\n                    <h4><a href="#!'.concat(e.Path,'">').concat(u(e.Path),"</a></h4>\n                    <p>\n                        ...").concat(function(n,e){var t=e.indexOf(n);return e.substring(0,t)+"<strong>"+n+"</strong>"+e.substring(t+n.length)}(n,e.Contents),'...\n                        <br /><small><a href="#!').concat(e.Path,'" tabindex="-1" class="text-muted">').concat(e.Path,"</a></small>  \n                    </p>\n                </div>")}),t}},{key:"renderError",value:function(n){var e="";if(n.response){var t=n.response,r=t.url.replace(window.origin,"");e="<p>The requested page <strong>".concat(r,"</strong> returned ").concat(t.status," - ").concat(t.statusText,"</p>")}else e="<p>".concat(n.message,"<p><pre>").concat(n.stack,"</pre>");return'<div class="alert alert-danger">\n                <h4 class="alert-heading">Oops something went wrong...</h4>\n                '.concat(e,"\n        </div>")}}],(t=null)&&s(e.prototype,t),r&&s(e,r),n}();function u(n){return n.lastIndexOf(".md")===n.length-3&&(n=n.slice(0,-3)),-1!==n.indexOf("/")&&(n=n.slice(n.lastIndexOf("/")+1)),n.length<=3?n.toUpperCase():n.split("-").map(function(n){return n[0].toUpperCase()+n.slice(1)}).join(" ")}function d(n){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function h(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var f=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var e,t,r;return e=n,r=[{key:"enableFor",value:function(n){[].forEach.call(document.querySelectorAll(n),function(n){n.addEventListener("click",function(){m(document,"FullScreen")||m(document,"IsFullScreen")?m(document,"CancelFullScreen"):m(n,"RequestFullScreen")})})}}],(t=null)&&h(e.prototype,t),r&&h(e,r),n}(),p=["webkit","moz","ms","o",""];function m(n,e){for(var t,r,a=0;a<p.length&&!n[t];){if(t=e,""==p[a]&&(t=t.substr(0,1).toLowerCase()+t.substr(1)),"undefined"!=(r=d(n[t=p[a]+t])))return p=[p[a]],"function"==r?n[t]():n[t];a++}}function v(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var g={version:"1.0",settings:{startMdFile:"index.md",settingsJson:"settings.json",contentJson:"content.json"},allContent:[]},b=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),window.addEventListener("hashchange",this.navigateToHash.bind(this),!1),document.addEventListener("DOMContentLoaded",this.init.bind(this),!1),document.addEventListener("keyup",this.listenKeyboard.bind(this),!1),this.settings=g.settings,this.$app=document.getElementById("app")}var e,t,r;return e=n,(t=[{key:"init",value:function(){o(),this.loadSettings()}},{key:"navigateToHash",value:function(n){var e=a.read(n.oldURL),t=a.read(n.newURL);if(t&&t.mdPath){if(e&&e.mdPath===t.mdPath&&"mdoc-search"!==e.scrollTo)return void this.scrollToHashOrTop(t.scrollTo);this.loadMarkdown(t.mdPath)}}},{key:"listenKeyboard",value:function(n){n.shiftKey&&n.ctrlKey&&65===n.which&&this.$app.classList.toggle("admin-mode")}},{key:"loadSettings",value:function(){fetch(g.settings.settingsJson).then(c).then(function(n){return n.json()}).then(function(n){return g.settings=Object.assign(g.settings,n)}).finally(this.displayApp.bind(this))}},{key:"loadContent",value:function(){fetch(g.settings.contentJson).then(c).then(function(n){return n.json()}).then(this.handleContent.bind(this)).catch(function(n){console.error("Unabled to load contentJson",n)})}},{key:"loadMarkdown",value:function(n){console.log("loadMarkdown",n),fetch(n).then(c).then(function(n){return n.text()}).then(this.displayMarkdown.bind(this)).catch(this.displayError.bind(this))}},{key:"handleContent",value:function(n){g.allContent=n;var e=n.map(function(n){return n.Path});g.tree=function(n){var e={};if(n instanceof Array==0)throw new Error("Expected an Array of file paths, but saw "+n);function t(n,e,t,r){return t===r.length-1&&(n[e]="file"),n.hasOwnProperty(e)||(n[e]={}),n[e]}return n.forEach(function(n){var r=n.split("/");if(1===r.length)return e[r[0]]="file";r.reduce(t,e)}),e}(e),this.displaySidebar()}},{key:"performSearch",value:function(){var n=document.querySelector("form input[type=search]").value;n&&(this.searchDocs(n),this.displayToc())}},{key:"searchDocs",value:function(n){var e=[];g.allContent.forEach(function(t){var r=t.Contents.search(new RegExp(n,"i"));-1!==r&&e.push({Path:t.Path,Contents:t.Contents.substring(r-80,r+80)})}),this.$main.innerHTML=l.renderSearch(n,e),location.hash=a.read(location.hash).page+"#mdoc-search"}},{key:"displayApp",value:function(){this.$app.innerHTML=l.renderApp(g.settings.title,g.settings.nav,g.version),this.$main=document.getElementById("main"),this.$toc=document.getElementById("toc"),this.$sidebar=document.getElementById("sidebar");var n=a.read(location.hash);this.loadMarkdown(n.mdPath),this.loadContent()}},{key:"displayMarkdown",value:function(n){this.$app.classList.add("loaded"),this.$main.innerHTML=l.renderPrint(g.version)+l.renderGitLinks(g.settings.gitRepo)+marked(n),this.triggerMarkownRenderers()}},{key:"displayToc",value:function(){var n=document.querySelectorAll("#main h2, #main h3");this.$toc.innerHTML=l.renderToc(n)}},{key:"displaySidebar",value:function(){this.$sidebar.innerHTML=l.renderSidebar(g.tree);for(var n=document.getElementsByClassName("caret"),e=0;e<n.length;e++)n[e].addEventListener("click",function(){this.parentElement.querySelector(".nested").classList.toggle("active"),this.classList.toggle("caret-down")})}},{key:"displayUnderPath",value:function(n){var e=g.allContent.filter(function(e){return 0===e.Path.indexOf(n)}),t="<h1>Showing all files under: ".concat(n,"</h1>");e.forEach(function(n){t+=marked(n.Contents)}),this.$main.innerHTML=t,this.triggerMarkownRenderers()}},{key:"displayError",value:function(n){this.$app.classList.add("loaded"),this.$main.innerHTML=l.renderError(n)}},{key:"scrollToHashOrTop",value:function(){var n=a.read(location.hash),e=this.$app;n&&n.scrollTo&&(e=document.getElementById(n.scrollTo)),e.scrollIntoView(!0)}},{key:"triggerMarkownRenderers",value:function(){-1!==this.$main.innerHTML.indexOf('<code class="')&&Prism.highlightAllUnder(this.$main,!1),-1!==this.$main.innerHTML.indexOf('<div class="mermaid"')&&(mermaid.init({startOnLoad:!1},"div.mermaid"),f.enableFor("div.mermaid")),this.scrollToHashOrTop(),this.displaySidebar(),this.displayToc()}}])&&v(e.prototype,t),r&&v(e,r),n}();if(!window.HashChangeEvent){var y=document.URL;window.addEventListener("hashchange",function(n){var e=y,t=document.URL;y=t,Object.defineProperties(n,{oldURL:{enumerable:!0,configurable:!0,value:e},newURL:{enumerable:!0,configurable:!0,value:t}})})}String.prototype.repeat||(String.prototype.repeat=function(n){return new Array(isNaN(n)?1:++n).join(this)}),window.mdoc=new b}]);